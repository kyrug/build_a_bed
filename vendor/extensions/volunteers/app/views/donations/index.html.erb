<h1>New Donation</h1>

<% form_for @donation do |v| %>
  <%= v.error_messages %>
  <table>
    <tr>
      <td><%= v.label :first_name %></td>
      <td><%= v.text_field :first_name %></td>
    </tr>
    <tr>
      <td><%= v.label :last_name %></td> 
      <td><%= v.text_field :last_name %></td>
    </tr>
    <tr>
      <td><%= v.label :phone %></td>
      <td><%= v.text_field :phone %></td>
    </tr>
    <tr>
      <td><%= v.label :email %></td>
      <td><%= v.text_field :email %></td>
    </tr>
    <tr>
      <td><%= v.label :donation_request %></td>
      <td>
        <%= collection_select(
          :donation, :donation_request_id, DonationRequest.all, :id, :name, {:prompt => true}
        ) %>
      </td>
    </tr>
    <tr>
      <td><%= v.label :quantity %></td>
      <td><%= v.text_field :quantity %></td>
    </tr>
  </table>
  <%= submit_tag 'Create' %>
<% end %>
<hr />
<h1>All Donations</h1>
<table id="dontable">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Phone</th>
      <th scope="col">Email</th>
      <th scope="col">Donation Req.</th>
      <th scope="col">Quantity</th>
      <th scope="col">Admin Actions</th>
    </tr>
  </thead>
  <tbody>
    <% for donation in @donations %>
      <tr class="<%= cycle("odd", "even") %>">
        <td><%= donation.first_name %> <%= donation.last_name %></td>
        <td> <%= donation.phone %></td>
        <td> <%= mail_to donation.email %></td>
        <td><%= donation.donation_request.name %></td>
        <td><%= donation.quantity %></td>
        <td><%= link_to('edit', :action => 'edit', :id => donation.id) %></td>
      </tr>
    <% end %>
  </tbody>
</table>
